function convertToString(e,t){switch(typeof t){case"object":if(!t)throw new TypeError("Cannot supply `null`");switch(t.nodeType){case 1:return t.outerHTML;case 3:return t.nodeValue;case 11:return[...t.childNodes].reduce((t,n)=>t+convertToString(e,n),"")}return;case"string":return t;default:throw new TypeError("Bad content for "+e+"; type: "+typeof t)}}function convertToDOM(e,t,n){switch(typeof t){case"object":if(!t)throw new TypeError("Cannot supply `null`");return[1,3,11].includes(t.nodeType)?n?t:t.cloneNode(!0):void 0;case"string":{const e=document.createElement("div");return e.innerHTML=t,e.firstElementChild||e.firstChild}default:throw new TypeError("Bad content for "+e+"; type: "+typeof t)}}function insert(e){return function(...t){const[n]=t;switch(typeof n){case"function":this.forEach((t,r)=>{const o=n.call(this,r,t.textContent);t[e](o)});break;default:this.forEach(n=>{n[e](...t.map((n,r)=>convertToDOM(e,n,r===t.length-1)))})}return this}}function insertText(e){return function(t){switch(typeof t){case"function":this.forEach((n,r)=>{const o=t.call(this,r,n[e]);n[e]=convertToString(e,o)});break;default:this.forEach(n=>{n[e]=convertToString(e,t)})}return this}}const after=insert("after"),before=insert("before"),append=insert("append"),prepend=insert("prepend"),html=insertText("innerHTML"),text=insertText("textContent"),methods={after:after,before:before,append:append,prepend:prepend,html:html,text:text},manipulation=function(e,t){return["after","before","append","prepend","html","text"].forEach(t=>{e.extend(t,methods[t])}),t&&e.extend("jml",function(...e){this.forEach(n=>{for(;n.hasChildNodes();)n.firstChild.remove();const r=t(...e);return append.call(this,r)})}),e};export{after,before,append,prepend,html,text,manipulation};
